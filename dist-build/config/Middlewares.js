var _0xdd72=['i18n','configure','resolve','locales','.json','log','usernameRequired','express-validator','express-socket.io-session','cookie-parser','path','connect-timeout','method-override','cors','./config','./../libraries/LbSocket','getConfig','Session','secret','now','use','json','500mb','urlencoded','middleware','set','jade','engine','html','renderFile','css','ejs','./../../views','./../../public','X-HTTP-Method','X-Method-Override','_method','./CustomValidators','./CustomSanitiers','all','Ini','Routes','/namespace','./Model'];(function(_0x5757da,_0x5e35ee){var _0x5db6f1=function(_0x3bb169){while(--_0x3bb169){_0x5757da['push'](_0x5757da['shift']());}};_0x5db6f1(++_0x5e35ee);}(_0xdd72,0x18b));var _0x2dd7=function(_0x4ced7d,_0x5a71a8){_0x4ced7d=_0x4ced7d-0x0;var _0x4c4c5a=_0xdd72[_0x4ced7d];return _0x4c4c5a;};'use strict';const Express=require('express');var Model=require(_0x2dd7('0x0'));const i18n=require(_0x2dd7('0x1'));const path=require('path');let anyObject={};i18n[_0x2dd7('0x2')]({'locales':['en','cn'],'defaultLocale':'en','directory':path[_0x2dd7('0x3')](__dirname,_0x2dd7('0x4')),'extension':_0x2dd7('0x5'),'register':global});console[_0x2dd7('0x6')](__({'phrase':_0x2dd7('0x7'),'locale':null}));const ExpressValidator=require(_0x2dd7('0x8'));const ExpressSession=require('express-session');const ExpressSocketIoSession=require(_0x2dd7('0x9'));const BodyParser=require('body-parser');const CookieParser=require(_0x2dd7('0xa'));const Path=require(_0x2dd7('0xb'));const ConnectTimeout=require(_0x2dd7('0xc'));const MethodOverride=require(_0x2dd7('0xd'));const ExpressPaginate=require('express-paginate');const Cors=require(_0x2dd7('0xe'));const Config=require(_0x2dd7('0xf'));const iRoutes=require('./iRoutes');const Module=require('./ModuleV2');require('mongoose-query-paginate');const LbSocket=require(_0x2dd7('0x10'));class Middlewares{constructor(){}[_0x2dd7('0x11')](){var _0x29557f=Express(),_0x31cc11=ExpressSession({'secret':Config[_0x2dd7('0x12')][_0x2dd7('0x13')],'expires':new Date(Date[_0x2dd7('0x14')]()+0x1e*0x5265c00),'resave':![],'saveUninitialized':!![]});_0x29557f[_0x2dd7('0x15')](BodyParser[_0x2dd7('0x16')]({'limit':_0x2dd7('0x17')}));_0x29557f['use'](BodyParser[_0x2dd7('0x18')]({'limit':_0x2dd7('0x17'),'extended':!![]}));_0x29557f[_0x2dd7('0x15')](ExpressPaginate[_0x2dd7('0x19')](0x1e,0x32));_0x29557f['use'](CookieParser());_0x29557f['use'](_0x31cc11);_0x29557f[_0x2dd7('0x15')](ConnectTimeout('100000s'));_0x29557f[_0x2dd7('0x15')](Cors());_0x29557f[_0x2dd7('0x1a')]('view\x20engine',_0x2dd7('0x1b'));_0x29557f[_0x2dd7('0x1c')](_0x2dd7('0x1d'),require('ejs')[_0x2dd7('0x1e')]);_0x29557f[_0x2dd7('0x1c')](_0x2dd7('0x1f'),require(_0x2dd7('0x20'))[_0x2dd7('0x1e')]);_0x29557f[_0x2dd7('0x1c')]('js',require(_0x2dd7('0x20'))['renderFile']);_0x29557f[_0x2dd7('0x1a')]('views',Path[_0x2dd7('0x3')](__dirname,_0x2dd7('0x21')));_0x29557f[_0x2dd7('0x15')](Express['static'](Path[_0x2dd7('0x3')](__dirname,_0x2dd7('0x22')),{'maxAge':'1d'}));_0x29557f[_0x2dd7('0x15')](MethodOverride(_0x2dd7('0x23')));_0x29557f[_0x2dd7('0x15')](MethodOverride('X-HTTP-Method-Override'));_0x29557f[_0x2dd7('0x15')](MethodOverride(_0x2dd7('0x24')));_0x29557f[_0x2dd7('0x15')](MethodOverride(_0x2dd7('0x25')));_0x29557f[_0x2dd7('0x15')](ExpressValidator({'customValidators':require(_0x2dd7('0x26')),'customSanitizers':require(_0x2dd7('0x27'))}));_0x29557f[_0x2dd7('0x28')]('*',(_0x23d712,_0x4f2862,_0x9f33c9)=>{_0x23d712['io']=this['io'];Module[_0x2dd7('0x29')](_0x23d712,_0x4f2862,_0x9f33c9);});Module[_0x2dd7('0x2a')](_0x29557f);this['io']['use'](ExpressSocketIoSession(_0x31cc11,{'autoSave':!![]}));this['io']['of'](_0x2dd7('0x2b'))[_0x2dd7('0x15')](ExpressSocketIoSession(_0x31cc11,{'autoSave':!![]}));this['io'][_0x2dd7('0x15')](ExpressSocketIoSession(_0x31cc11,CookieParser()));iRoutes(this['io']);LbSocket['io']=this['io'];return _0x29557f;}}module['exports']=new Middlewares();
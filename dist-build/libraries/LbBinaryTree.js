var _0x1016=['parent','path.binary.','pull','update','left','setBinaryAuto','setBinaryTree','findOne','right','path.binary.full','path.binary.left','path.binary.right','length','./../models/All','Member','__CheckBinaryTreeRoot','path','binary','tree','_id','findById','removeMember'];(function(_0x3fbc87,_0x5e0ad0){var _0x20cafa=function(_0xf29b79){while(--_0xf29b79){_0x3fbc87['push'](_0x3fbc87['shift']());}};_0x20cafa(++_0x5e0ad0);}(_0x1016,0x1c5));var _0x6101=function(_0x25c7ff,_0x212487){_0x25c7ff=_0x25c7ff-0x0;var _0x330b0b=_0x1016[_0x25c7ff];return _0x330b0b;};'use strict';const All=require(_0x6101('0x0'));var Member=new All(_0x6101('0x1'));class LbBinaryTree{constructor(){}[_0x6101('0x2')](_0xba2731,_0x412ff7){if(!_0xba2731[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0x5')]){Member['update'](_0xba2731[_0x6101('0x6')],{'path.binary.tree':'#'+_0xba2731[_0x6101('0x6')]+'#','path.binary.path':'#'+_0xba2731['_id']+'#'},()=>{Member[_0x6101('0x7')](_0xba2731[_0x6101('0x6')],(_0x59304d,_0x108e67)=>{_0x412ff7(_0x108e67);});});}else{_0x412ff7(_0xba2731);}}[_0x6101('0x8')](_0x5c85c1){if(_0x5c85c1[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0x9')]){Member[_0x6101('0x7')](_0x5c85c1[_0x6101('0x3')]['binary'][_0x6101('0x9')],(_0x37acb1,_0x1574e1)=>{if(_0x1574e1){let _0x2f11ee={};_0x2f11ee[_0x6101('0xa')+_0x5c85c1[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0xb')]]=null;_0x2f11ee['path.binary.full']=![];Member[_0x6101('0xc')](_0x1574e1[_0x6101('0x6')],_0x2f11ee,()=>{let _0x4742ca=(_0x3fe5e8=![])=>{let _0x105316=_0x6101('0xd');if(_0x5c85c1['path'][_0x6101('0x4')][_0x6101('0xb')]=='left'){_0x105316='right';}if(_0x5c85c1['path']['binary'][_0x105316]){Member[_0x6101('0x7')](_0x5c85c1[_0x6101('0x3')]['binary'][_0x105316],(_0xd92e12,_0xcd8435)=>{if(_0xcd8435){if(_0x3fe5e8){this[_0x6101('0xe')](_0xcd8435,_0x3fe5e8,_0x105316,()=>{});}else{this['setBinaryAuto'](_0xcd8435,_0x1574e1,_0x105316,()=>{});}}});}};if(_0x5c85c1[_0x6101('0x3')][_0x6101('0x4')][_0x5c85c1['path'][_0x6101('0x4')][_0x6101('0xb')]]){Member[_0x6101('0x7')](_0x5c85c1[_0x6101('0x3')][_0x6101('0x4')][_0x5c85c1[_0x6101('0x3')][_0x6101('0x4')]['pull']],(_0x45cacf,_0x274c7d)=>{if(_0x274c7d){this[_0x6101('0xe')](_0x274c7d,_0x1574e1,_0x5c85c1[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0xb')],()=>{_0x4742ca(_0x274c7d);});}else{_0x4742ca();}});}else{_0x4742ca();}});}});}}[_0x6101('0xe')](_0x43cd9e,_0x52152f,_0x351503,_0x47f7b4){this[_0x6101('0x2')](_0x52152f,_0x3e1035=>{if(!_0x52152f['path.binary.'+(_0x351503=='left'?_0x6101('0xd'):'right')]){this[_0x6101('0xf')](_0x43cd9e,_0x52152f,_0x351503,_0x47f7b4);}else{Member[_0x6101('0x10')]({'full':{'$ne':!![]},'pull':_0x351503==_0x6101('0xd')?_0x6101('0xd'):'right','path.binary.path':new RegExp(String(_0x52152f[_0x6101('0x6')]),'i')},(_0x18d5ad,_0x4a1961)=>{if(_0x4a1961){this[_0x6101('0xf')](_0x43cd9e,_0x4a1961,_0x351503,_0x47f7b4);}else{let _0x2c944e=(_0x205ef0,_0x3e2160)=>{Member['findById'](_0x205ef0[_0x6101('0x3')][_0x6101('0x4')][_0x351503==_0x6101('0xd')?_0x6101('0xd'):_0x6101('0x11')],(_0x545e22,_0x239fab)=>{if(_0x239fab){_0x2c944e(_0x239fab,_0x3e2160);}else{let _0x117a06={};_0x117a06['path.binary.'+(_0x351503==_0x6101('0xd')?'left':'right')]=null;_0x117a06[_0x6101('0x12')]=![];Member['update'](_0x205ef0[_0x6101('0x6')],_0x117a06,()=>{_0x3e2160(_0x205ef0);});}});};_0x2c944e(_0x52152f,_0x46fded=>{this[_0x6101('0xf')](_0x43cd9e,_0x46fded,_0x351503,_0x47f7b4);});}});}});}[_0x6101('0xf')](_0x58cf38,_0xfe6394,_0x2edbb3,_0x734149){this[_0x6101('0x2')](_0xfe6394,_0x341b9b=>{if(_0x58cf38[_0x6101('0x3')]['binary'][_0x6101('0x9')]){let _0x2d5e3d={};_0x2d5e3d[_0x6101('0xa')+_0x58cf38[_0x6101('0x3')][_0x6101('0x4')][_0x2edbb3==_0x6101('0xd')?_0x6101('0xd'):'right']]=null;_0x2d5e3d['path.binary.full']=![];Member[_0x6101('0xc')](_0x58cf38['path'][_0x6101('0x4')][_0x6101('0x9')],_0x2d5e3d,()=>{});}Member['update'](_0x58cf38[_0x6101('0x6')],{'path.binary.tree':_0x341b9b[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0x5')]+'#'+_0x58cf38['_id']+'#','path.binary.parent':_0x341b9b['_id'],'path.binary.path':(!_0x341b9b[_0x6101('0x3')]['binary'][_0x6101('0x9')]||_0x341b9b[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0xb')]==(_0x2edbb3==_0x6101('0xd')?_0x6101('0xd'):_0x6101('0x11'))?_0x341b9b[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0x3')]:'#'+_0x341b9b[_0x6101('0x6')]+'#')+'#'+_0x58cf38['_id']+'#','path.binary.pull':_0x2edbb3==_0x6101('0xd')?_0x6101('0xd'):_0x6101('0x11'),'path.binary.isIni':!![]},()=>{let _0x47a83c={};if(_0x2edbb3=='left'){_0x47a83c[_0x6101('0x13')]=_0x58cf38[_0x6101('0x6')];if(_0x341b9b[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0x11')]){_0x47a83c['path.binary.full']=!![];}}else{_0x47a83c[_0x6101('0x14')]=_0x58cf38[_0x6101('0x6')];if(_0x341b9b[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0xd')]){_0x47a83c['path.binary.full']=!![];}}Member[_0x6101('0xc')](_0x341b9b[_0x6101('0x6')],_0x47a83c,()=>{Member['findAllQ']({'path.binary.parent':_0x58cf38[_0x6101('0x6')]},(_0x408641,_0x1efcb8)=>{if(_0x1efcb8&&_0x1efcb8[_0x6101('0x15')]){Member[_0x6101('0x7')](_0x58cf38['_id'],(_0x13238b,_0x31fee3)=>{_0x1efcb8['forEach'](_0x2b664d=>{this[_0x6101('0xf')](_0x2b664d,_0x31fee3,_0x2b664d[_0x6101('0x3')][_0x6101('0x4')][_0x6101('0xb')],()=>{});});});}setTimeout(()=>{_0x734149();},0x3e8);});});});});}}module['exports']=new LbBinaryTree();
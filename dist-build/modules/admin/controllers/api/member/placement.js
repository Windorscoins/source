var _0xdaf0=['extend','push','all','then','pick','address','exports','router','./../../../../../core/core','./../../../../../models/Member','./../../../../../models/MemberBalance','./../../../../../models/MemberStatistics','index','get','/:id.html','findAllQ','params','json','forEach','clone','username','fullname','phone','email','_id','referralid','findById','balance','statistics','countQ'];(function(_0x2c3098,_0x2552a3){var _0x52ac00=function(_0x312702){while(--_0x312702){_0x2c3098['push'](_0x2c3098['shift']());}};_0x52ac00(++_0x2552a3);}(_0xdaf0,0x134));var _0x0daf=function(_0x59689b,_0x3851f5){_0x59689b=_0x59689b-0x0;var _0x42f929=_0xdaf0[_0x59689b];return _0x42f929;};'use strict';const Core=require(_0x0daf('0x0'));const Member=require(_0x0daf('0x1'));const MemberBalance=require(_0x0daf('0x2'));const MemberStatistics=require(_0x0daf('0x3'));class AdminMemberPlacement extends Core{constructor(){super();this[_0x0daf('0x4')]();}[_0x0daf('0x4')](){this[_0x0daf('0x5')](_0x0daf('0x6'),(_0x413efc,_0x1f7120)=>{Member[_0x0daf('0x7')]({'referralid':_0x413efc[_0x0daf('0x8')]['id']},(_0x33c0e0,_0x3fc5e4)=>{let _0x2415b4=[];if(!_0x3fc5e4){return _0x1f7120[_0x0daf('0x9')]({'status':![]});}_0x3fc5e4[_0x0daf('0xa')]((_0xd2229f,_0x1ed29a)=>{let _0x3db503=this[_0x0daf('0xb')](_0xd2229f);let _0x36ce11=this['_']['pick'](_0xd2229f,_0x0daf('0xc'),_0x0daf('0xd'),_0x0daf('0xe'),'address',_0x0daf('0xf'),_0x0daf('0x10'),'create',_0x0daf('0x11'));let _0x15f8f6=new Promise((_0x12e862,_0x4e719c)=>{MemberBalance[_0x0daf('0x12')](_0xd2229f[_0x0daf('0x13')],(_0x3934ef,_0x41e499)=>{MemberStatistics[_0x0daf('0x12')](_0xd2229f[_0x0daf('0x14')],(_0x29ea4f,_0x5a594c)=>{Member[_0x0daf('0x15')]({'referralid':_0x36ce11[_0x0daf('0x10')]},_0x3d5dd1=>{_0x36ce11=this['_'][_0x0daf('0x16')]({'statistics':this[_0x0daf('0xb')](_0x5a594c),'sub':_0x3d5dd1},_0x36ce11);_0x36ce11=this['_'][_0x0daf('0x16')](this[_0x0daf('0xb')](_0x41e499),_0x36ce11);_0x3fc5e4[_0x1ed29a]=_0x36ce11;_0x12e862();});});});});_0x2415b4[_0x0daf('0x17')](_0x15f8f6);});Promise[_0x0daf('0x18')](_0x2415b4)[_0x0daf('0x19')](()=>{_0x1f7120[_0x0daf('0x9')]({'members':_0x3fc5e4,'status':!![]});});});});this['get']('/',(_0x14ecb9,_0x365a8b)=>{Member[_0x0daf('0x7')]({'referralid':null},(_0x9d14ad,_0x47934c)=>{let _0x1d4931=[];if(!_0x47934c){return _0x365a8b['json']({'status':![]});}_0x47934c[_0x0daf('0xa')]((_0x347df0,_0x6bf550)=>{let _0x5cb4ce=this[_0x0daf('0xb')](_0x347df0);let _0xf24ccd=this['_'][_0x0daf('0x1a')](_0x347df0,_0x0daf('0xc'),_0x0daf('0xd'),_0x0daf('0xe'),_0x0daf('0x1b'),'email','_id','create',_0x0daf('0x11'));let _0x2802eb=new Promise((_0x9b48a6,_0x3efd84)=>{MemberBalance['findById'](_0x347df0[_0x0daf('0x13')],(_0x7b39ce,_0x3c3ec2)=>{MemberStatistics[_0x0daf('0x12')](_0x347df0[_0x0daf('0x14')],(_0x4771b1,_0x4ace38)=>{Member[_0x0daf('0x15')]({'referralid':_0xf24ccd['_id']},_0x4793ea=>{_0xf24ccd=this['_'][_0x0daf('0x16')]({'statistics':this[_0x0daf('0xb')](_0x4ace38),'sub':_0x4793ea},_0xf24ccd);_0xf24ccd=this['_']['extend'](this[_0x0daf('0xb')](_0x3c3ec2),_0xf24ccd);_0x47934c[_0x6bf550]=_0xf24ccd;_0x9b48a6();});});});});_0x1d4931['push'](_0x2802eb);});Promise[_0x0daf('0x18')](_0x1d4931)[_0x0daf('0x19')](()=>{_0x365a8b[_0x0daf('0x9')]({'members':_0x47934c,'status':!![]});});});});}}module[_0x0daf('0x1c')]=new AdminMemberPlacement()[_0x0daf('0x1d')];
var _0xa06a=['notEmpty','isEmail','withMessage','asyncValidationErrors','findOne','body','email','create','fullname','json','catch','exports','router','trim','index','post','checkBody'];(function(_0x419f0c,_0x39d1cf){var _0x44c2be=function(_0x4a2e95){while(--_0x4a2e95){_0x419f0c['push'](_0x419f0c['shift']());}};_0x44c2be(++_0x39d1cf);}(_0xa06a,0x10c));var _0xaa06=function(_0x54e2af,_0x53c084){_0x54e2af=_0x54e2af-0x0;var _0x5712af=_0xa06a[_0x54e2af];return _0x5712af;};'use strict';const core=require('./../../../core/core');const Subscribe=require('./../../../models/Subscribe');const trim=require(_0xaa06('0x0'));class DefaultSubscribe extends core{constructor(){super();this[_0xaa06('0x1')]();}[_0xaa06('0x1')](){this[_0xaa06('0x2')]('/',(_0x525552,_0x1826e1)=>{_0x525552[_0xaa06('0x3')]('email',__('emailRequired'))[_0xaa06('0x4')]()[_0xaa06('0x5')]()[_0xaa06('0x6')](__('emailNotValid'));_0x525552[_0xaa06('0x7')]()['then'](()=>{Subscribe[_0xaa06('0x8')]({'email':trim(String(_0x525552[_0xaa06('0x9')][_0xaa06('0xa')])['toLocaleLowerCase']())},(_0x33fa96,_0x199a0b)=>{if(!_0x199a0b){Subscribe[_0xaa06('0xb')]({'email':trim(String(_0x525552[_0xaa06('0x9')][_0xaa06('0xa')])['toLocaleLowerCase']()),'fullname':_0x525552[_0xaa06('0x9')][_0xaa06('0xc')]},()=>{_0x1826e1[_0xaa06('0xd')]({'status':!![]});});}else{_0x1826e1[_0xaa06('0xd')]({'status':!![]});}});})[_0xaa06('0xe')](_0x45adab=>{_0x1826e1[_0xaa06('0xd')]({'status':![],'err':_0x45adab});});});}}module[_0xaa06('0xf')]=new DefaultSubscribe()[_0xaa06('0x10')];
var _0x2a1b=['jwt','json','tokenNotValid','exports','loadDefault','./../../../../config/config','jsonwebtoken','body','query','x-access-token','headers','cookies','false','username','password','verify'];(function(_0x1ac4f0,_0x1514bd){var _0x17f327=function(_0x44f8c5){while(--_0x44f8c5){_0x1ac4f0['push'](_0x1ac4f0['shift']());}};_0x17f327(++_0x1514bd);}(_0x2a1b,0x195));var _0xb2a1=function(_0x59ab54,_0x1d8407){_0x59ab54=_0x59ab54-0x0;var _0x27311a=_0x2a1b[_0x59ab54];return _0x27311a;};'use strict';const Config=require(_0xb2a1('0x0'));const Member=require('./../../../../models/Member');const JWT=require(_0xb2a1('0x1'));class Default{constructor(){}['loadDefault'](_0x55645e,_0x16c9b7,_0x57ecfb){let _0xd5d017=_0x55645e[_0xb2a1('0x2')]['x-access-token']||_0x55645e[_0xb2a1('0x3')][_0xb2a1('0x4')]||_0x55645e[_0xb2a1('0x5')][_0xb2a1('0x4')]||_0x55645e[_0xb2a1('0x6')][_0xb2a1('0x4')];if(_0xd5d017&&_0xd5d017!=_0xb2a1('0x7')){JWT['verify'](_0xd5d017,Config['jwt'],(_0x87706f,_0x471176)=>{if(_0x471176&&_0x471176[_0xb2a1('0x8')]&&_0x471176[_0xb2a1('0x9')]){Member['findOne']({'username':_0x471176[_0xb2a1('0x8')],'active':!![]},(_0x19ac86,_0x38d7d1)=>{if(_0x38d7d1){JWT[_0xb2a1('0xa')](_0x38d7d1[_0xb2a1('0x9')],Config[_0xb2a1('0xb')],(_0x5795dd,_0x15bb0e)=>{if(_0x15bb0e[_0xb2a1('0x9')]==_0x471176[_0xb2a1('0x9')]){_0x55645e['member']=_0x38d7d1;_0x57ecfb();}else{_0x16c9b7[_0xb2a1('0xc')]({'status':![],'login':!![],'msg':__(_0xb2a1('0xd'))});}});}else{_0x16c9b7[_0xb2a1('0xc')]({'status':![],'login':!![],'msg':__('tokenNotValid')});}});}else{_0x16c9b7['json']({'status':![],'login':!![],'msg':__(_0xb2a1('0xd'))});}});}else{_0x16c9b7[_0xb2a1('0xc')]({'status':![],'login':!![],'msg':__('tokenNotValid')});}}}module[_0xb2a1('0xe')]=new Default()[_0xb2a1('0xf')];
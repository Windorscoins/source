var _0xb821=['getChild','pull','child','right','all','index','findOne','params','memberid','json','get','findById','router','./../../../../models/Member','length','push','username','fullname','gender','_id','path','binary','parent'];(function(_0x533ba0,_0x1187cd){var _0xad9034=function(_0x3a70c9){while(--_0x3a70c9){_0x533ba0['push'](_0x533ba0['shift']());}};_0xad9034(++_0x1187cd);}(_0xb821,0x10a));var _0x1b82=function(_0x9be8ab,_0x3b8695){_0x9be8ab=_0x9be8ab-0x0;var _0xce29e1=_0xb821[_0x9be8ab];return _0xce29e1;};'use strict';const core=require('./../../../../core/core');const Member=require(_0x1b82('0x0'));class DefaultApiBinaryTree extends core{constructor(){super();this['index']();}['getChild'](_0x3b1d14,_0x1403ab,_0x3fadf0=null,_0x26db32){if(_0x1403ab==0x5){return _0x26db32(_0x3fadf0);}Member['findAllQ']({'path.binary.parent':_0x3b1d14},(_0x3e27c4,_0x192434)=>{if(_0x192434&&_0x192434[_0x1b82('0x1')]){let _0x3632dd=[];let _0x18f45f=_0x7b87e8=>{_0x3632dd[_0x1b82('0x2')](new Promise((_0x1223a1,_0x141673)=>{let _0x4955b5={'username':_0x7b87e8[_0x1b82('0x3')],'fullname':_0x7b87e8[_0x1b82('0x4')],'gender':_0x7b87e8[_0x1b82('0x5')],'id':_0x7b87e8[_0x1b82('0x6')],'lv':_0x1403ab,'parent':_0x7b87e8[_0x1b82('0x7')][_0x1b82('0x8')][_0x1b82('0x9')],'child':{'left':null,'right':null}};this[_0x1b82('0xa')](_0x7b87e8['_id'],_0x1403ab+0x1,_0x4955b5,_0x46007e=>{if(_0x7b87e8[_0x1b82('0x7')][_0x1b82('0x8')][_0x1b82('0xb')]=='left'){_0x3fadf0[_0x1b82('0xc')]['left']=_0x46007e;}else{_0x3fadf0['child'][_0x1b82('0xd')]=_0x46007e;}_0x1223a1();});}));};_0x192434['forEach'](_0x1cffd1=>{_0x18f45f(_0x1cffd1);});Promise[_0x1b82('0xe')](_0x3632dd)['then'](()=>{_0x26db32(_0x3fadf0);});}else{_0x26db32(_0x3fadf0);}});}[_0x1b82('0xf')](){this['get']('/:memberid.html',(_0x1b115b,_0x5eb8ed)=>{Member[_0x1b82('0x10')]({'_id':_0x1b115b[_0x1b82('0x11')][_0x1b82('0x12')],'path.binary.tree':new RegExp(String(_0x1b115b['member']['_id']),'i')},(_0x415dff,_0x5d66c3)=>{if(!_0x5d66c3){return _0x5eb8ed[_0x1b82('0x13')]({'status':![],'binaryTree':{}});}let _0x1002a1={'username':_0x5d66c3[_0x1b82('0x3')],'fullname':_0x5d66c3['fullname'],'gender':_0x5d66c3[_0x1b82('0x5')],'id':_0x5d66c3[_0x1b82('0x6')],'parent':_0x5d66c3[_0x1b82('0x7')][_0x1b82('0x8')][_0x1b82('0x9')],'lv':0x0,'child':{'left':null,'right':null}};this['getChild'](_0x5d66c3[_0x1b82('0x6')],0x1,_0x1002a1,_0x1892b0=>{_0x5eb8ed[_0x1b82('0x13')]({'binaryTree':_0x1892b0});});});});this[_0x1b82('0x14')]('/',(_0x26e481,_0x31fd64)=>{Member[_0x1b82('0x15')](_0x26e481['member'][_0x1b82('0x6')],(_0x233740,_0x5b8d09)=>{let _0x561d78={'username':_0x5b8d09[_0x1b82('0x3')],'fullname':_0x5b8d09[_0x1b82('0x4')],'gender':_0x5b8d09['gender'],'id':_0x5b8d09[_0x1b82('0x6')],'parent':_0x5b8d09['path']['binary']['parent'],'lv':0x0,'child':{'left':null,'right':null}};this[_0x1b82('0xa')](_0x5b8d09[_0x1b82('0x6')],0x1,_0x561d78,_0xfd00d1=>{_0x31fd64[_0x1b82('0x13')]({'binaryTree':_0xfd00d1});});});});}}module['exports']=new DefaultApiBinaryTree()[_0x1b82('0x16')];